<div class="container my-5">
    <div class="shopping-cart bg-white p-4 rounded shadow-sm">
        <h1 class="text-center mb-4">Shopping Cart</h1>
        <p class="text-center">
            You have <span class="fw-bold">{{cartProduucts.length}}</span> items in your cart
        </p>

        <div class="table-responsive">
            <table class="table table-bordered text-center">
                <thead class="table-light">
                    <tr>
                        <th>Product</th>
                        <th>Title</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of cartProduucts ;  let index = index" >
                        <td><img src="{{item.item.image}}" alt="" width="50px"></td>
                        <td>{{item.item.title}}</td>
                        <td>{{item.item.price}}</td>
                        <td class="d-flex justify-content-center">
                            <button class="btn btn-sm btn-outline-primary" (click)="deleteAmount(index)"  >-</button>
                            <input class="form-control w-50 mx-3" type="number" (change)="detectChange()" [(ngModel)]=" item.quantity" min="1">
                            <button class="btn btn-sm btn-outline-primary" (click)="addAmount(index)" >+</button>
                        </td>
                        <td>{{item.item.price * item.quantity}} L.E</td>
                        <td> <button class="btn btn-sm btn-danger" (click)="deleteItem(index)">Delete</button></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th>
                            <p class="mb-0 fw-bold fs-5">Total: <span>{{total}}L.E</span></p>
                        </th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>  
                        <th><button class="btn btn-success" (click)="getCart()">Order Now</button></th>
                    </tr>
                </tfoot>
            </table>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-3">
            <button class="btn btn-warning me-2" (click)="clearCart()">Clear Shopping Cart</button>
        </div>

        <div class="alert alert-success mt-4" role="alert" *ngIf="success">
            Well done! Your Order is Successfully Sent.
        </div>
    </div>
</div> 